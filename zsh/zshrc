# ----- Basics -----
export EDITOR="nvim"
export VISUAL="nvim"
export PAGER="less"

# ----- PATH -----
# Claude Code CLI
export PATH="$HOME/.local/bin:$PATH"
# Dotfiles bin
export PATH="$HOME/dotfiles/bin:$PATH"

# ----- Homebrew -----
if [ -x /opt/homebrew/bin/brew ]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
elif [ -x /usr/local/bin/brew ]; then
  eval "$(/usr/local/bin/brew shellenv)"
fi

# ----- asdf -----
# Prefer Homebrew asdf
if command -v asdf >/dev/null 2>&1; then
  # shellcheck disable=SC1090
  . "$(brew --prefix asdf)/libexec/asdf.sh"
  # shellcheck disable=SC1090
  . "$(brew --prefix asdf)/etc/bash_completion.d/asdf.bash" 2>/dev/null || true
fi

# ----- zsh options -----
setopt AUTO_CD
setopt CORRECT
setopt NO_BEEP
setopt INTERACTIVE_COMMENTS

# ----- History -----
HISTFILE="$HOME/.zsh_history"
HISTSIZE=100000
SAVEHIST=100000
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt SHARE_HISTORY
setopt INC_APPEND_HISTORY
setopt HIST_REDUCE_BLANKS

# ----- Completion -----
autoload -Uz compinit
compinit
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}'
zstyle ':completion:*' menu select

# ----- Keybindings -----
bindkey -e
bindkey '^R' history-incremental-search-backward

# ----- Aliases + functions -----
[ -f "$HOME/.zsh_aliases" ] && source "$HOME/.zsh_aliases"
[ -f "$HOME/.zsh_functions" ] && source "$HOME/.zsh_functions"

# ----- Starship prompt -----
if command -v starship >/dev/null 2>&1; then
  eval "$(starship init zsh)"
fi

# ----- macOS niceties -----
if [[ "$OSTYPE" == "darwin"* ]]; then
  alias flushdns='sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder'
fi

# Added by Windsurf
export PATH="/Users/temitayo.oladetoun/.codeium/windsurf/bin:$PATH"
